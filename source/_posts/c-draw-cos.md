---
title: 用c画函数
date: 2015-06-02 08:33:38
update: 2015-06-02 08:33:38
categories: C
tags: [C-practice]
description: 在屏幕上用“*”显示0～360的余弦函数cos(x)的曲线。
photos:
- http://onexs3cnv.bkt.clouddn.com/Screen%20Shot%202017-06-02%20at%208.33.50%20AM.png

---

# 打印cos函数
c的控制台程序打印是逐行打印。所以每一行都要一次性计算出所有*的位置。其实就是找规律
主要就是两个循环，一个是纵轴的，一个是横轴的，纵轴方向控制行，横轴方向控制打印*
`cos`这个函数是对称的.周期是0~2pi,pi是3.1415，所以横轴方向的长度是2pi，也就是6.28，
纵轴方向可以通过一个for循环从1到-1,通过acos反三角函数计算出横轴。为了显示方便可以放大倍数
因为是对称，每行两个*的横坐标是关于pi对称的。

```c
void draw_cos(){
    double y;
    int m,x;
    for(y=1;y>=-1;y-=0.1){
        x = acos(y)*10; //这里和下面的62-x的62是对应的。放大的倍数
        for(m = 1;m<x;m++) printf(" ");
        printf("*");
        for(;m<62-x;m++) printf(" "); //其实62表示的就是总的宽度
        printf("*\n");
    }
}
```

如果放大了20倍，而宽度还是62的话。
```c
x = acos(y) * 20
```
![wrong_result](http://onexs3cnv.bkt.clouddn.com/Screen%20Shot%202017-06-02%20at%2011.46.38%20AM.png)

可以看到，当x计算出来的超过了31（对称线）的时候，因为m这个循环变量也已经超过31，`m < 62 - x`这个控制语句已经不起作用了，所以就不正确了。
当要放大20倍的时候，宽度也要相应的放大2倍。


# 打印的两种思路

## for(坐标) 由坐标来控制

也就是先计算出这一行要打印的坐标，然后控制循环，到你这之前要打印什么，到你这之后要打印什么。
上面打印cos的就是

## for(范围) 在范围里面询问

这个范围是定义域，在定义域里面循环，到这了，比较一下这个地方是不是要打印的哪个坐标点，如果是，打印哪个，如果不是做哪些事。

# 同时打印cos和sin

```c
void draw_cos_sin(){
    double y;
    int m,n,x;
    for(y=1;y>=-1;y-=.1){
        m=acos(y)*10; //acos值域（0～pi／2）
        n=asin(y)*10; //asin值域（-pi／2～pi／2）
        for(x=0;x<=62;x++){
            if(x==m) printf("*");
            else if(x==62-m) printf("*");
            //上面是打印COS的
            else if(x==n) printf("+");
            else if(x == 31-n) printf("+");
            //else if(x == 62-n) printf("+");
            //else if(x == 31+n) printf("+");
            //本来以为要计算四段，但是错误，因为asin的值域是(-PI/2~PI/2)，然后
            //y从0遍历到-1的时候，按照上面的规则是错的，上面的规则默认是从0~PI/2那段的
            //sin衍生计算出来的。
            else if(x == n+62) printf("+");//周期性
            //上面是打印SIN的
            //因为优先打印cos所以重叠的部分是打印出cos的*状
            else printf(" ");
        }
        printf("\n");
    }
}
```
![result](http://onexs3cnv.bkt.clouddn.com/Screen%20Shot%202017-06-14%20at%203.17.08%20PM.png)
acos的值域是`(0,pi/2)`
asin的值域是`(-pi/2,pi/2)`

注释里面也说明了，怎么计算出`sin(x)`的坐标点，这里要注意的就是，因为`y`从1往-1算，都在`acos`和`asin`的定义域里面，所以它的值域范围都会覆盖到，从图像上看

![cos](http://onexs3cnv.bkt.clouddn.com/Screen%20Shot%202017-06-14%20at%203.22.36%20PM.png)

cos是计算出来`x=pi`这条直线的左半边，然后根据对称可以直接算出右半边，这是可以的， 因为这样覆盖了cos的我们要打印的定义域`(0,2pi)`,也没有浪费acos的值域`(0,pi/2)`.这里很关键！！！

![sin](http://onexs3cnv.bkt.clouddn.com/Screen%20Shot%202017-06-14%20at%203.23.05%20PM.png)

我一开始考虑sin的时候，我只利用`sin`图像的`(0,pi/2)`部分，先是关于`x=pi/2`对称，然后在关于点`(pi,0)`对称，将`(pi/2,2pi)`部分分三个部分来计算了。

![wrong](http://onexs3cnv.bkt.clouddn.com/Screen%20Shot%202017-06-14%20at%203.44.36%20PM.png)

但是，没把当y计算到0~-1的时候，`asin`就是`(-pi/2,0)`,图像上看就是y轴的左边部分，考虑进去。因为这样安装上面的规则，当y计算到0~-1的时候，先关于`x=pi/2`对称的时候，这部分是可以计算出`(pi,3pi/2)`部分的，但是用y轴左边部分的来用关于点`(pi,0)`对称规则计算出来的，就不是sin的`(3pi/2,2pi)`部分，


![a](http://onexs3cnv.bkt.clouddn.com/Screen%20Shot%202017-06-14%20at%203.26.35%20PM.png)

因为`asin`的范围是`(-pi/2,pi/2)`,也就是sin图中的`(-pi/2,pi/2)`的那部分，这部分按照关于`x=pi/2`线对称是可以算出`(pi/2,3pi/2)`部分的，然后剩下`(3pi/2,2pi)`可以按照周期性，加上一个周期，这时候问了，那y在1～0这部分周期也要算？对，但没关系啊，因为`for`循环规定了x的范围是`（0，62）`, y在1～0这部分算出的超过了这个范围，所以**“询问”**不到，这个词要体会。


# 总结

这个打印其实就是`y=#`横线，从上往下横下去，然后碰到曲线有交点了，记录下这个坐标。
有条性质很重要，函数的性质，**一个x只能对应一个y，但一个y可能有多个x`，也就是竖线，左右平移的话，都只有一个交点，但横线上下平移，可能会有好多个交点。**这时候要注意定义域，值域，然后根据一些规则，计算出所有的交点。
